<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Animation counter</title>
      <script>
         function animateValue(id, start, end, duration) {
    if (start === end) return;
    var range = end - start;
    var current = start;
    var increment = end > start? 1 : -1;
    var stepTime = Math.abs(Math.floor(duration / range));
    var obj = document.getElementById(id);
    var timer = setInterval(function() {
        current += increment;
        obj.innerHTML = current;
        if (current == end) {
            clearInterval(timer);
        }
    }, stepTime);
}

      </script>

      <style>
         @property --num {
  syntax: '<integer>';
  initial-value: 0;
  inherits: false;
}

div {
  transition: --num 1s;
  counter-reset: num var(--num);
}
div:hover {
  --num: 10000;
}
div::after {
  content: counter(num);
}
      </style>
   </head>
   <link href= "https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
   <style>
      .container{
      background-color: #6f4e37;
      }
      p{
      text-align: center;
      }
   </style>
   <body onload="load()">
      <p>
      <div class="d-flex justify-content-center fs-1 fw-bold ">Animation Counter</div>
      </p>
     

      <p>
      <div class="container">
         <div class="row">
            <div class="col-sm">

         <p>
            <div> </div>
            <h4>CSS animations</h4>
            <script>
                animateValue("animaten1", 100, 25, 5000);
           
            </script>
            
         </p>
         </div>
         </div>
        
         <div class="row">
            <div class="col-sm">

         <p>
            <p id='animaten1' class="fs-2 text-light">0</p>
            <p class="text-light">Smooth  visits</p>
            <script>
                animateValue("animaten1", 100, 25, 5000);
           
            </script>
            
         </p>
         </div>
         </div>

         <div class="row">
            <div class="col-sm">
               <p id='0101' class="fs-2 text-light">0</p>
               <p class="text-light">Site visits</p>
            </div>
            <div class="col-sm">
               <p id='0102' class="fs-2 text-light">876</p>
               <p class="text-light">Members signed</p>
            </div>
            <div class="col-sm">
               <p class="fs-2 text-light"><span id='0103'>12</span>%</p>
               <p class="text-light align-content-center">Average complain rate</p>
            </div>
         </div>
      </div>
      </p>
   </body>

   <script>
       function animate(obj, initVal, lastVal, duration) {

let startTime = null;

//get the current timestamp and assign it to the currentTime variable
let currentTime = Date.now();

//pass the current timestamp to the step function
const step = (currentTime ) => {

    //if the start time is null, assign the current time to startTime
    if (!startTime) {
          startTime = currentTime ;
    }

    //calculate the value to be used in calculating the number to be displayed
    const progress = Math.min((currentTime  - startTime) / duration, 1);

    //calculate what to be displayed using the value gotten above
    obj.innerHTML = Math.floor(progress * (lastVal - initVal) + initVal);

    //checking to make sure the counter does not exceed the last value (lastVal)
    if (progress < 1) {
          window.requestAnimationFrame(step);
    }
    else{
          window.cancelAnimationFrame(window.requestAnimationFrame(step));
    }
};

//start animating
window.requestAnimationFrame(step);
}

let text1 = document.getElementById('0101');
let text2 = document.getElementById('0102');
let text3 = document.getElementById('0103');

const load = () => {
animate(text1, 0, 500, 10000);
animate(text2, 0, 100000, 5000);
animate(text3, 100, 11, 5000);
}



   </script>
</html>
